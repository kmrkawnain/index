<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ultra Modi Bird Game</title>

<style>
body {
  margin: 0;
  overflow: hidden;
  background: linear-gradient(#87CEEB, #ffffff);
  font-family: Segoe UI, sans-serif;
}

#game {
  position: relative;
  width: 100vw;
  height: 100vh;
  cursor: pointer;
}

.bird {
  width: 65px;
  height: 65px;
  background-image: url("https://globalwiki.org/images/3/3e/Narendra-Modi.jpeg");
  background-size: cover;
  background-position: center;
  border-radius: 50%;
  border: 3px solid #ff9933;
  position: absolute;
  left: 100px;
  top: 250px;
  z-index: 5;
}

.pipe {
  width: 60px;
  background: #138808;
  position: absolute;
  border-radius: 6px;
}

.info {
  position: absolute;
  top: 15px;
  left: 15px;
  font-size: 20px;
  font-weight: bold;
}

#start-msg {
  position: absolute;
  top: 45%;
  width: 100%;
  text-align: center;
  font-size: 26px;
  font-weight: bold;
}

.game-over {
  position: absolute;
  top: 35%;
  width: 100%;
  text-align: center;
  font-size: 48px;
  display: none;
  color: red;
}
</style>
</head>

<body>

<div id="game">
  <div class="info">
    Score: <span id="score">0</span> |
    Lives: <span id="lives">3</span>
  </div>

  <div id="start-msg">CLICK / TAP TO START ðŸŽµ</div>
  <div class="bird" id="bird"></div>

  <div class="game-over" id="gameOver">
    GAME OVER <br><br>
    <button onclick="resetGame()">Restart</button>
  </div>

  <!-- âœ… ONLINE HOSTED MP3 (NO GITHUB ISSUE) -->
  <audio id="bgMusic" loop preload="auto">
    <source src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Scott_Holmes/Corporate__Motivational_Music/Scott_Holmes_-_Upbeat_Party.mp3" type="audio/mpeg">
  </audio>
</div>

<script>
const bird = document.getElementById("bird");
const game = document.getElementById("game");
const scoreEl = document.getElementById("score");
const livesEl = document.getElementById("lives");
const gameOverEl = document.getElementById("gameOver");
const startMsg = document.getElementById("start-msg");
const bgMusic = document.getElementById("bgMusic");

let birdY = 250;
let velocity = 0;
let gravity = 0.5;
let lift = -9;
let pipes = [];
let score = 0;
let lives = 3;
let speed = 4;
let running = false;

function startGame() {
  if (running) return;

  running = true;
  startMsg.style.display = "none";
  gameOverEl.style.display = "none";

  bgMusic.volume = 0.6;
  bgMusic.play().catch(() => {});

  setInterval(createPipe, 1600);
  requestAnimationFrame(loop);
}

function createPipe() {
  if (!running) return;

  let gap = 180;
  let topHeight = Math.random() * 250 + 50;

  let top = document.createElement("div");
  let bottom = document.createElement("div");

  top.className = "pipe";
  bottom.className = "pipe";

  top.style.height = topHeight + "px";
  top.style.top = "0";
  bottom.style.height = (window.innerHeight - topHeight - gap) + "px";
  bottom.style.bottom = "0";

  top.style.left = bottom.style.left = window.innerWidth + "px";

  game.appendChild(top);
  game.appendChild(bottom);

  pipes.push({ top, bottom });
}

function loop() {
  if (!running) return;

  velocity += gravity;
  birdY += velocity;
  bird.style.top = birdY + "px";

  for (let i = pipes.length - 1; i >= 0; i--) {
    let p = pipes[i];
    let left = p.top.offsetLeft - speed;

    p.top.style.left = left + "px";
    p.bottom.style.left = left + "px";

    if (
      bird.offsetLeft + 50 > left &&
      bird.offsetLeft < left + 60 &&
      (birdY < p.top.offsetHeight ||
       birdY + 50 > window.innerHeight - p.bottom.offsetHeight)
    ) {
      lives--;
      livesEl.textContent = lives;
      p.top.remove();
      p.bottom.remove();
      pipes.splice(i, 1);
      if (lives <= 0) endGame();
    }

    if (left < -60) {
      p.top.remove();
      p.bottom.remove();
      pipes.splice(i, 1);
      score++;
      scoreEl.textContent = score;
    }
  }

  if (birdY > window.innerHeight || birdY < 0) endGame();

  requestAnimationFrame(loop);
}

function endGame() {
  running = false;
  gameOverEl.style.display = "block";
}

function resetGame() {
  document.querySelectorAll(".pipe").forEach(p => p.remove());
  birdY = 250;
  velocity = 0;
  score = 0;
  lives = 3;
  scoreEl.textContent = 0;
  livesEl.textContent = 3;
  startMsg.style.display = "block";
}

game.addEventListener("click", () => {
  if (!running) startGame();
  velocity = lift;

  if (bgMusic.paused) {
    bgMusic.play().catch(() => {});
  }
});
</script>

</body>
</html>

